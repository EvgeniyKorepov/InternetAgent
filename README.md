# Internet Agent
Универсальное приложение информирования и оповещения

Описание и инструкции в процессе...

- web - пример точки входа на вашем web-сервере.
- InternetAgentApi - пример простейшего API. 
- APIKeyGenerate.php - пример генерации Токена, и Ключа доступа для приложения Интернет агент.
- Описание API отправки push уведомлений в проложение - в процессе...

При запуске приложение запрашивает с вашего сервера текущую конфигурацию работы в формате JSON, пример /InternetAgentApi/InternetAgentApiConfigClient.php. 

{
    "interface": {
        "app_title": "Мой дом", // Заголовок окна (только платформа Windows) (не обязательно)
        "toolbar_title": "Мой дом", // Текст верхней панели (не обязательно)
        "image_logo": "https:\/\/flintnet.ru\/api\/apphome\/image\/house.jpg", // Картинка/логотип верхней панели (не обязательно)
        "sections": { // Управление видимостью и заголовками разделов.
            "news": {
                "enable": false, // false - не нужно показывать, true  - показать
                "name": "Новости" // Заголовок/Наименовние раздела
            },
            "info": {
                "enable": true,
                "name": "Информация"
            },
            "services": {
                "enable": true,
                "name": "Сервисы"
            },
            "support": {
                "enable": false,
                "name": "Чат",
                "read_only": false // false - показать окно ввода и кнопку отправки POST сообщения
            }
        }
    },
    "application": {
        "api_url": "https:\/\/flintnet.ru\/api\/apphome\/", // Точка входя в API на вашем сервере (этот параметр передается вместе с Ключем доступа, но при смене конфигурации, аварийной смене сервера вы можете передать приложению новую точку входа, приложение запомнит его и будет обращаться к ней.
        "debug": false, // Включение отладки, актуально только для Windows
        "versions": { // Здесь вы можете управлять показом диалогов с предложением обновления приложенния (не обязательно)
            "Windows": {
                "build": 63, // Версия билда, если она больше версии билда приложения, приложение покажет диалог с предложением обновить версию.
                "update_url": "https:\/\/flintnet.ru\/soft\/InternetAgentSetup.exe" // ссылка которую приложение откроет в стандартном браузере при согласии пользователя на обновление приложения
            },
            "Android": {
                "build": 64,
                "update_url": "https:\/\/play.google.com\/store\/apps\/details?id=ru.flintnet.InternetAgent"
            },
            "iOS": {
                "build": 0,
                "update_url": ""
            },
            "macOS": {
                "build": 0,
                "update_url": ""
            }
        }
    },
    "timers": { // Настройка периодичности опроса сервера для раздела support (актуально только для Windows, для мобильных платформ вы должны посылать push оповещения)
        "message": 60, // Обычная периодичность опроса сервера в секундах
        "message_dialog": 5 // Периодичность опроса серва в секундах после отправки POST на сервер (эта периодичность поддерживается в течении 10 минут, потом возвращается обычная периодичность
    },
    "internet_provider_token": "03e3267fa9cc4d398cb4679ab1bc155d" // Уникальный токен вашего сервера, используется для FCM регистрации в приложении и отправке push оповещений. Вы можете сгенерировать токен самостоятельно с помошью любого GUID генератора, длина строки токена должна быть равна 32 символам.
}


Приложение может содержать до четырех разделов, функционально они ничем не отличаются, вы просто можете разделять информацию/функционал по своему усмотреню :
- news : к примеру новости, лента событий, пямятки и т.п.
- info : к примеру информация, перечень состояний (устройств, вещей, дверей и т.д.), http:, tel:, mailto: ссылки для удобного быстрого вызова.
- services : к примеру кнопки изменения состояния устройств, оборудования, функций и т.п. 
- support : к примеру лента сообщений, оповещений. Это единственная секция с дополнительным функционалом, при read_only=false вы можете показать диалог отправки POST сообщений на ваш сервер.


